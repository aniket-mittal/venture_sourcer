# Venture Sourcer

An intelligence platform built for consulting clubs to streamline startup outreach. Find key people at top startups, get their contact information, generate personalized talking points, and send emails‚Äîall in one place.

## Motivation

Consulting clubs often need to reach out to professionals at startups for networking, client acquisition, or research purposes. This process is typically repetitive and time-consuming:

1. Search for relevant companies
2. Find the right people to contact
3. Research each person's background
4. Craft personalized outreach messages
5. Send emails one by one

**Venture Sourcer automates this entire workflow**, reducing hours of manual research and outreach to seconds.

## Features

### üöÄ Onboarding Flow
New users are guided through setup:
- **Apollo API Key** configuration
- **Email Template** creation with rich text (bold, italics, links)
- **Dynamic Variable Mapping** (e.g., `{{First Name}}` ‚Üí recipient's first name)
- **File Attachments** for email templates

### üîç Company Search
Search for companies using natural language prompts like:
- "Fintech companies in NYC with over 50 employees"
- "Healthcare AI startups that raised funding in 2024"
- "Series B aerospace startups"

Returns detailed company information including:
- Company name and description
- Industry and location
- Employee count and funding status
- Website and LinkedIn links

### üë• People Lookup
Find key contacts at any company with:
- **Configurable results** (10, 15, 25, 50, or 100 people)
- **Real email addresses** unlocked via Apollo enrichment
- **Seniority filtering** (founders, C-suite, VPs, directors, managers)
- **LinkedIn profiles** for each contact

### üîì Smart Unlocking
Each contact can be "unlocked" to get:
- **Verified email address** via Apollo People Match API
- **Perplexity research** on the individual's background
- **Personalized paragraphs** generated by Claude AI:
  - Why your club is interested in their company
  - Why you specifically want to connect with them

### ‚úâÔ∏è Email System
Send personalized outreach emails directly from the platform:
- **Rich Text Templates** with bold, italics, hyperlinks
- **Dynamic Variables** like `{{First Name}}`, `{{Company Name}}`, `{{Company Interest}}`
- **Auto-Variable Mapping** via AI (maps template variables to data fields automatically)
- **File Attachments** support
- **Test Emails** to preview how your template looks with sample data
- **Email History** to track all sent emails

### üìä Apollo Usage Tracking
Monitor your Apollo API usage:
- Daily, hourly, and minute-level rate limits
- Credit consumption tracking
- API key validation

### üì• CSV Export
Download unlocked contacts with all their information:
- Name, email, phone, title, LinkedIn
- Personalized company interest paragraph
- Personalized person interest paragraph

## Tech Stack

- **Framework:** Next.js 16 (App Router)
- **UI:** shadcn/ui + Tailwind CSS
- **Rich Text:** React Quill
- **Authentication:** Supabase Auth (Google OAuth)
- **Database:** Supabase (PostgreSQL)
- **APIs:**
  - Apollo.io (company/people search + email enrichment)
  - Perplexity AI (web research)
  - OpenRouter/Claude (personalized content generation)
  - Gmail API (email sending)

## Getting Started

### Prerequisites
- Node.js 18+
- npm or pnpm
- API keys for Apollo, Perplexity, OpenRouter, and Gmail
- Supabase project (for authentication and database)

### Installation

```bash
# Clone the repository
git clone <your-repo-url>
cd venture_sourcer

# Install dependencies
cd src
npm install

# Set up environment variables
cp ../.env.example ../.env
# Edit .env with your API keys
```

### Environment Variables

Create a `.env` file in the project root:

```env
# Apollo.io API
APOLLO_API_KEY=your_apollo_api_key

# OpenRouter (for Claude)
OPENROUTER_API_KEY=your_openrouter_api_key

# Perplexity AI
PERPLEXITY_API_KEY=your_perplexity_api_key

# Supabase (for authentication & database)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key

# Gmail API (for sending emails)
GMAIL_CLIENT_ID=your_gmail_client_id
GMAIL_CLIENT_SECRET=your_gmail_client_secret
GMAIL_REFRESH_TOKEN=your_gmail_refresh_token
GMAIL_FROM_EMAIL=your_email@gmail.com
```

### Database Setup

Run the following SQL in your Supabase SQL editor:

```sql
-- Profiles table
CREATE TABLE profiles (
  id UUID REFERENCES auth.users PRIMARY KEY,
  email TEXT,
  full_name TEXT,
  avatar_url TEXT,
  apollo_api_key TEXT,
  email_subject TEXT,
  email_template TEXT,
  variable_mappings JSONB,
  attachments JSONB,
  is_onboarded BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Sent emails table
CREATE TABLE sent_emails (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES auth.users,
  recipient_email TEXT NOT NULL,
  recipient_name TEXT,
  company_name TEXT,
  sent_at TIMESTAMPTZ DEFAULT NOW()
);

-- Enable RLS
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE sent_emails ENABLE ROW LEVEL SECURITY;

-- RLS Policies
CREATE POLICY "Users can access own profile" ON profiles
FOR ALL USING (auth.uid() = id) WITH CHECK (auth.uid() = id);

CREATE POLICY "Users can access own emails" ON sent_emails
FOR ALL USING (auth.uid() = user_id) WITH CHECK (auth.uid() = user_id);
```

### Running Locally

```bash
cd src
npm run dev
```

Visit [http://localhost:3000](http://localhost:3000)

## Project Structure

```
venture_sourcer/
‚îú‚îÄ‚îÄ .env                        # Environment variables (not in git)
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ app/
    ‚îÇ   ‚îú‚îÄ‚îÄ api/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apollo-usage/       # Apollo credit tracking
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auto-map-variables/ # AI variable mapping
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ company-search/     # Company search endpoint
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate-interest/  # Generate personalized paragraphs
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ people-lookup/      # People lookup endpoint
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ send-email/         # Email sending endpoint
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ unlock-person/      # Individual unlock endpoint
    ‚îÇ   ‚îú‚îÄ‚îÄ auth/callback/          # OAuth callback
    ‚îÇ   ‚îú‚îÄ‚îÄ login/                  # Login page
    ‚îÇ   ‚îú‚îÄ‚îÄ onboarding/             # New user onboarding
    ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                # Main application
    ‚îú‚îÄ‚îÄ components/
    ‚îÇ   ‚îú‚îÄ‚îÄ company-search-tab.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ email-history-tab.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ home-content.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ onboarding-content.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ onboarding-form.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ people-lookup-tab.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ rich-text-editor.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ user-nav.tsx
    ‚îÇ   ‚îî‚îÄ‚îÄ ui/                     # shadcn components
    ‚îú‚îÄ‚îÄ lib/
    ‚îÇ   ‚îú‚îÄ‚îÄ api-helper.ts           # API key helper
    ‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts             # Browser client
    ‚îÇ   ‚îî‚îÄ‚îÄ supabase-server.ts      # Server client
    ‚îî‚îÄ‚îÄ middleware.ts               # Route protection
```

## API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/company-search` | POST | Search for companies using natural language |
| `/api/people-lookup` | POST | Find people at a company |
| `/api/unlock-person` | POST | Unlock email and generate personalized content |
| `/api/send-email` | POST | Send a personalized email |
| `/api/auto-map-variables` | POST | AI-powered variable mapping |
| `/api/apollo-usage` | POST | Check Apollo API usage/credits |
| `/api/generate-interest` | POST | Generate company/person interest paragraphs |

## Deployment

The application is designed to be deployed on **Vercel**:
1. Connect your GitHub repository to Vercel
2. Set all environment variables in Vercel's dashboard
3. Deploy!

> **Note:** Users can also configure their Apollo API key after onboarding. The app prioritizes user-specific keys stored in the database over environment variables.

## License

Private - For internal use only.

---

Built with ‚ù§Ô∏è for Venture Strategy Solutions
